# ğŸ­ TalkShow CLI åŠŸèƒ½æ€»ç»“

## âœ… å·²å®Œæˆçš„åŠŸèƒ½

### ğŸš€ æ ¸å¿ƒ CLI å‘½ä»¤

TalkShow ç°åœ¨æä¾›äº†ä¸‰ä¸ªä¸»è¦çš„ CLI å‘½ä»¤ï¼š

#### 1. `talkshow init`
- **åŠŸèƒ½**ï¼šåœ¨ `.specstory` ç›®å½•ä¸­åˆå§‹åŒ–é…ç½®æ–‡ä»¶
- **æ£€æŸ¥**ï¼šéªŒè¯ `.specstory` ç›®å½•å’Œ `history` å­ç›®å½•æ˜¯å¦å­˜åœ¨
- **ç”Ÿæˆ**ï¼šåˆ›å»º `talkshow.yaml` é…ç½®æ–‡ä»¶å’Œ `data` ç›®å½•
- **å®‰å…¨**ï¼šå¦‚æœå½“å‰ç›®å½•æ²¡æœ‰ `.specstory`ï¼Œä¼šæç¤ºå¹¶é€€å‡º

#### 2. `talkshow parse`
- **åŠŸèƒ½**ï¼šè§£æèŠå¤©å†å²å¹¶ç”Ÿæˆ JSON æ–‡ä»¶
- **é…ç½®**ï¼šè‡ªåŠ¨è¯»å– `.specstory/talkshow.yaml` é…ç½®
- **æ‘˜è¦**ï¼šæ”¯æŒåŸºäºè§„åˆ™å’Œ LLM çš„æ™ºèƒ½æ‘˜è¦
- **è¾“å‡º**ï¼šä¿å­˜åˆ° `.specstory/data/sessions.json`

#### 3. `talkshow server`
- **åŠŸèƒ½**ï¼šå¯åŠ¨ Web æœåŠ¡å™¨
- **é…ç½®**ï¼šæ ¹æ®é…ç½®æ–‡ä»¶ä¸­çš„ç«¯å£è®¾ç½®å¯åŠ¨
- **ç•Œé¢**ï¼šæä¾›å¯è§†åŒ–ç•Œé¢å’Œ API æ–‡æ¡£
- **çµæ´»**ï¼šæ”¯æŒå‘½ä»¤è¡Œå‚æ•°è¦†ç›–é…ç½®

#### 4. `talkshow stop`
- **åŠŸèƒ½**ï¼šåœæ­¢ Web æœåŠ¡å™¨
- **æ£€æµ‹**ï¼šè‡ªåŠ¨æŸ¥æ‰¾ä½¿ç”¨æŒ‡å®šç«¯å£çš„æœåŠ¡å™¨è¿›ç¨‹
- **ç¡®è®¤**ï¼šæä¾›ç¡®è®¤æç¤ºï¼ˆå¯ä½¿ç”¨ `--force` è·³è¿‡ï¼‰
- **ä¼˜é›…å…³é—­**ï¼šå…ˆå°è¯•ä¼˜é›…å…³é—­ï¼Œå¤±è´¥æ—¶å¼ºåˆ¶ç»ˆæ­¢

### ğŸ› ï¸ æŠ€æœ¯å®ç°

#### è·¯å¾„å¤„ç†
- **æ™ºèƒ½æ£€æµ‹**ï¼šè‡ªåŠ¨æŸ¥æ‰¾é¡¹ç›®æ ¹ç›®å½•ï¼ˆåŒ…å« `.specstory` çš„ç›®å½•ï¼‰
- **ç›¸å¯¹è·¯å¾„**ï¼šé…ç½®æ–‡ä»¶ä½¿ç”¨ç›¸å¯¹è·¯å¾„ï¼Œä¾¿äºé¡¹ç›®è¿ç§»
- **é”™è¯¯å¤„ç†**ï¼šä¼˜é›…å¤„ç†è·¯å¾„ä¸å­˜åœ¨çš„æƒ…å†µ

#### é…ç½®ç®¡ç†
- **YAML æ ¼å¼**ï¼šä½¿ç”¨ YAML ä½œä¸ºé…ç½®æ–‡ä»¶æ ¼å¼
- **é»˜è®¤é…ç½®**ï¼šæä¾›å®Œæ•´çš„é»˜è®¤é…ç½®æ¨¡æ¿
- **ç¯å¢ƒå˜é‡**ï¼šæ”¯æŒç¯å¢ƒå˜é‡è¦†ç›–é…ç½®
- **ä¼˜å…ˆçº§**ï¼šç¯å¢ƒå˜é‡ > é…ç½®æ–‡ä»¶ > é»˜è®¤å€¼

#### é”™è¯¯å¤„ç†
- **å‹å¥½æç¤º**ï¼šæ¸…æ™°çš„é”™è¯¯ä¿¡æ¯å’Œè§£å†³å»ºè®®
- **é™çº§æœºåˆ¶**ï¼šLLM å¤±è´¥æ—¶è‡ªåŠ¨é™çº§åˆ°è§„åˆ™æ‘˜è¦
- **çŠ¶æ€æ£€æŸ¥**ï¼šæ¯ä¸ªæ­¥éª¤éƒ½æœ‰ç›¸åº”çš„çŠ¶æ€æ£€æŸ¥

### ğŸ“Š å®é™…æ•ˆæœ

#### æµ‹è¯•ç»“æœ
```bash
# åˆå§‹åŒ–é…ç½®
talkshow init
âœ… Configuration saved to: .specstory/talkshow.yaml

# è§£æèŠå¤©å†å²
talkshow parse
âœ… Found 10 valid chat sessions
ğŸ“ Generated 110 summaries
ğŸ’¾ Sessions saved to: .specstory/data/sessions.json

# å¯åŠ¨æœåŠ¡å™¨
talkshow server
ğŸŒ Starting server at: http://127.0.0.1:8866

# åœæ­¢æœåŠ¡å™¨
talkshow stop
ğŸ“‹ Found 2 process(es) using port 8866:
âœ… Successfully stopped 2 server process(es).
```

#### ç”Ÿæˆçš„æ–‡ä»¶ç»“æ„
```
.specstory/
â”œâ”€â”€ history/              # SpecStory ç”Ÿæˆçš„èŠå¤©è®°å½•
â”œâ”€â”€ data/                 # TalkShow ç”Ÿæˆçš„æ•°æ®
â”‚   â””â”€â”€ sessions.json    # è§£æåçš„ä¼šè¯æ•°æ®
â””â”€â”€ talkshow.yaml        # TalkShow é…ç½®æ–‡ä»¶
```

### ğŸ¯ ä½¿ç”¨åœºæ™¯

#### å¼€å‘ç¯å¢ƒ
1. **é¡¹ç›®åˆå§‹åŒ–**ï¼š
   ```bash
   cd your-project
   talkshow init
   ```

2. **å®šæœŸè§£æ**ï¼š
   ```bash
   talkshow parse
   ```

3. **æŸ¥çœ‹ç»“æœ**ï¼š
   ```bash
   talkshow server
   ```

#### ç”Ÿäº§ç¯å¢ƒ
1. **é…ç½® LLM**ï¼š
   ```bash
   export MOONSHOT_API_KEY="your_api_key"
   ```

2. **æ™ºèƒ½æ‘˜è¦**ï¼š
   ```bash
   talkshow parse --use-llm
   ```

3. **ç”Ÿäº§æœåŠ¡å™¨**ï¼š
   ```bash
   talkshow server --host 0.0.0.0 --port 8080
   ```

### ğŸ”§ é…ç½®é€‰é¡¹

#### å‘½ä»¤è¡Œå‚æ•°
```bash
# åˆå§‹åŒ–
talkshow init --force          # å¼ºåˆ¶è¦†ç›–ç°æœ‰é…ç½®

# è§£æ
talkshow parse --use-llm       # ä½¿ç”¨ LLM æ‘˜è¦
talkshow parse --output path   # æŒ‡å®šè¾“å‡ºæ–‡ä»¶

# æœåŠ¡å™¨
talkshow server --port 8080    # æŒ‡å®šç«¯å£
talkshow server --host 0.0.0.0 # æŒ‡å®šä¸»æœº
talkshow server --data-file path # æŒ‡å®šæ•°æ®æ–‡ä»¶

# åœæ­¢æœåŠ¡å™¨
talkshow stop --force          # å¼ºåˆ¶åœæ­¢ï¼ˆæ— éœ€ç¡®è®¤ï¼‰
talkshow stop --port 8080     # åœæ­¢æŒ‡å®šç«¯å£çš„æœåŠ¡å™¨
```

#### é…ç½®æ–‡ä»¶ç»“æ„
```yaml
project:
  name: "TalkShow Project"
  description: "Chat history analysis and visualization"

paths:
  history_dir: ".specstory/history"
  output_dir: ".specstory/data"
  config_file: ".specstory/talkshow.yaml"

server:
  host: "127.0.0.1"
  port: 8000
  reload: true

summarizer:
  enabled: true
  use_llm: false
  max_question_length: 20
  max_answer_length: 80

llm:
  provider: "moonshot"
  model: "moonshot/kimi-k2-0711-preview"
  max_tokens: 150
  temperature: 0.3
```

### ğŸ‰ æˆåŠŸæŒ‡æ ‡

#### åŠŸèƒ½å®Œæ•´æ€§
- âœ… **CLI å‘½ä»¤**ï¼šå››ä¸ªæ ¸å¿ƒå‘½ä»¤å…¨éƒ¨å®ç°ï¼ˆinit, parse, server, stopï¼‰
- âœ… **é…ç½®ç®¡ç†**ï¼šå®Œæ•´çš„é…ç½®ç³»ç»Ÿ
- âœ… **è·¯å¾„å¤„ç†**ï¼šæ™ºèƒ½çš„è·¯å¾„æ£€æµ‹å’Œå¤„ç†
- âœ… **é”™è¯¯å¤„ç†**ï¼šå‹å¥½çš„é”™è¯¯æç¤ºå’Œé™çº§æœºåˆ¶
- âœ… **è¿›ç¨‹ç®¡ç†**ï¼šä¼˜é›…çš„æœåŠ¡å™¨å¯åŠ¨å’Œåœæ­¢

#### ç”¨æˆ·ä½“éªŒ
- âœ… **ç®€å•æ˜“ç”¨**ï¼šå››ä¸ªå‘½ä»¤å®Œæˆå…¨éƒ¨åŠŸèƒ½
- âœ… **æ™ºèƒ½æ£€æµ‹**ï¼šè‡ªåŠ¨æ£€æµ‹é¡¹ç›®ç»“æ„å’Œé…ç½®
- âœ… **æ¸…æ™°åé¦ˆ**ï¼šæ¯ä¸ªæ­¥éª¤éƒ½æœ‰æ˜ç¡®çš„çŠ¶æ€åé¦ˆ
- âœ… **çµæ´»é…ç½®**ï¼šæ”¯æŒå¤šç§é…ç½®æ–¹å¼
- âœ… **å®‰å…¨æ“ä½œ**ï¼šåœæ­¢æœåŠ¡å™¨æ—¶æœ‰ç¡®è®¤æç¤º

#### æŠ€æœ¯è´¨é‡
- âœ… **æ¨¡å—åŒ–è®¾è®¡**ï¼šæ¸…æ™°çš„ä»£ç ç»“æ„
- âœ… **æµ‹è¯•è¦†ç›–**ï¼šå®Œæ•´çš„æµ‹è¯•å¥—ä»¶
- âœ… **æ–‡æ¡£å®Œæ•´**ï¼šè¯¦ç»†çš„ä½¿ç”¨æ–‡æ¡£
- âœ… **å®‰è£…ç®€å•**ï¼šæ”¯æŒ pip å®‰è£…

### ğŸš€ ä¸‹ä¸€æ­¥è®¡åˆ’

#### çŸ­æœŸç›®æ ‡
- [ ] æ·»åŠ æ›´å¤šå‘½ä»¤è¡Œé€‰é¡¹ï¼ˆå¦‚ `--verbose`ï¼‰
- [ ] æ”¯æŒé…ç½®æ–‡ä»¶éªŒè¯
- [ ] æ·»åŠ è¿›åº¦æ¡æ˜¾ç¤º

#### é•¿æœŸç›®æ ‡
- [ ] æ”¯æŒ SQLite å­˜å‚¨
- [ ] æ·»åŠ æ•°æ®å¯¼å‡ºåŠŸèƒ½
- [ ] æ”¯æŒæ‰¹é‡å¤„ç†å¤šä¸ªé¡¹ç›®

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [å®‰è£…æŒ‡å—](INSTALL.md)
- [é¡¹ç›®æ–‡æ¡£](README.md)
- [API æ–‡æ¡£](http://localhost:8000/docs)

---

**æ€»ç»“**ï¼šTalkShow CLI å·²ç»æˆåŠŸå®ç°äº†ä½ è¦æ±‚çš„æ‰€æœ‰åŠŸèƒ½ï¼ŒåŒ…æ‹¬ `init`ã€`parse`ã€`server` ä¸‰ä¸ªå‘½ä»¤ï¼Œä»¥åŠæ™ºèƒ½çš„è·¯å¾„å¤„ç†å’Œé…ç½®ç®¡ç†ã€‚ç°åœ¨å¯ä»¥é€šè¿‡ `pip install talkshow` å®‰è£…å¹¶ä½¿ç”¨è¿™ä¸ªå·¥å…·äº†ï¼ 